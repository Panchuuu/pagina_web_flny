<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Flaites NY - Tienda VIP ðŸ—½</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="assets/style/style.css" />
    <link rel="icon" type="image/png" href="assets/img/logo_tienda.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;700;900&family=Inter:wght@400;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" />
</head>
<body class="bg-dark text-white">

    <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1100"></div>

    <header class="hero-section text-center py-5">
        <div class="container">
            <img class="logoT" src="assets/img/logo_tienda.png" alt="Logo Flaites NY" style="max-height: 180px" />
            <h1 class="display-4 fw-bold text-uppercase mt-3">Flaites NY Roleplay</h1>
            <p class="lead">La tienda oficial de paquetes VIP y donaciones del servidor.</p>
        </div>
    </header>

    <nav class="navbar navbar-expand-lg navbar-dark bg-opacity-75 bg-dark border-bottom border-secondary sticky-top">
        <div class="container">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse w-100" id="mainNav">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item"><a class="nav-link active" href="index.html">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://valparaiso-roleplay-mta.gitbook.io/westcoast-rp-fivem/normativas/donaciones">Normativas</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://discord.gg/T99hAzmP5A" target="_blank">Discord</a></li>
                    <li class="nav-item" id="admin-link" style="display: none;"><a class="nav-link text-danger fw-bold" href="admin-dashboard.html">Admin</a></li>
                </ul>
                <div class="d-flex align-items-center">
                    <div id="guest-container"><a href="login.html" class="btn btn-outline-warning btn-sm">Iniciar SesiÃ³n</a></div>
                    <div id="user-container" class="dropdown" style="display: none;">
                        <a href="#" class="nav-link dropdown-toggle d-flex align-items-center" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-user-circle me-2"></i> Hola, <span id="username-span" class="fw-bold ms-1"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end">
                            <li><a class="dropdown-item" href="perfil.html"><i class="fas fa-history me-2"></i>Ver historial de compras</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><button class="dropdown-item text-danger" onclick="handleLogout()"><i class="fas fa-sign-out-alt me-2"></i>Cerrar SesiÃ³n</button></li>
                        </ul>
                    </div>
                    <a href="carro.html" class="position-relative ms-3" title="Ver carro">
                        <img src="assets/img/carrito-de-compras.png" alt="carro" style="height:24px;">
                        <span id="cart-counter" class="cart-counter-badge">0</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container my-4">
        <div class="server-status-panel">
            <strong>SERVIDOR:</strong> <span id="server-status-text" class="status-loading">Cargando...</span> | 
            <strong>JUGADORES:</strong> <span id="server-players-text">--/--</span>
        </div>
    </div>

    <main class="container my-5">
        <h2 class="text-center fw-bold mb-4 text-uppercase">Paquetes VIP Disponibles</h2>
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            <div class="col">
                <div class="card h-100 bg-dark-secondary border-warning">
                    <img src="assets/img/flny-vip-bronce.png" class="card-img-top" alt="VIP Bronce" />
                    <div class="card-body d-flex flex-column text-white">
                        <h5 class="card-title fw-bold">ðŸ—½ VIP Bronce</h5>
                        <p class="card-text fs-4 fw-bold text-warning">$5.000 CLP / mes</p>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li>âœ… Fila de prioridad en el servidor.</li>
                            <li>âœ… Acceso a vehÃ­culos exclusivos (Nivel 1).</li>
                            <li>âœ… Salario aumentado en un 10%.</li>
                            <li>âœ… Kit de bienvenida mensual.</li>
                        </ul>
                        <button class="btn btn-outline-warning fw-bold mt-auto" onclick="showVipDetails('vip_bronze', 'VIP Bronce', 5000, 'assets/img/flny-vip-bronce.png', 'ObtÃ©n beneficios iniciales como fila de prioridad para entrar al servidor, acceso a un catÃ¡logo de vehÃ­culos exclusivos de nivel 1, un 10% de aumento en tu salario de trabajos y un kit de bienvenida cada mes.')">Ver Detalles</button>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 bg-dark-secondary border-warning">
                    <img src="assets/img/flny-vip-plata.png" class="card-img-top" alt="VIP Plata" />
                    <div class="card-body d-flex flex-column text-white">
                        <h5 class="card-title fw-bold">ðŸ—½ VIP Plata</h5>
                        <p class="card-text fs-4 fw-bold text-warning">$10.000 CLP / mes</p>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li>âœ… Todos los beneficios de Bronce.</li>
                            <li>âœ… Acceso a vehÃ­culos exclusivos (Nivel 2).</li>
                            <li>âœ… CustomizaciÃ³n de personaje avanzada.</li>
                            <li>âœ… Acceso a canal de Discord para VIPs.</li>
                        </ul>
                        <button class="btn btn-outline-warning fw-bold mt-auto" onclick="showVipDetails('vip_silver', 'VIP Plata', 10000, 'assets/img/flny-vip-plata.png', 'Incluye todos los beneficios de Bronce, ademÃ¡s de acceso a vehÃ­culos de nivel 2, mÃ¡s opciones de personalizaciÃ³n para tu personaje y entrada al canal exclusivo de Discord para la comunidad VIP.')">Ver Detalles</button>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 bg-dark-secondary border-warning">
                    <img src="assets/img/flny-vip-oro.png" class="card-img-top" alt="VIP Oro" />
                    <div class="card-body d-flex flex-column text-white">
                        <h5 class="card-title fw-bold">ðŸ—½ VIP Oro</h5>
                        <p class="card-text fs-4 fw-bold text-warning">$15.000 CLP / mes</p>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li>âœ… Todos los beneficios de Plata.</li>
                            <li>âœ… Acceso a todas las skins de armas.</li>
                            <li>âœ… Posibilidad de crear tu propia banda.</li>
                            <li>âœ… Soporte prioritario en Discord.</li>
                        </ul>
                        <button class="btn btn-outline-warning fw-bold mt-auto" onclick="showVipDetails('vip_gold', 'VIP Oro', 15000, 'assets/img/flny-vip-oro.png', 'El paquete definitivo. ObtÃ©n todos los beneficios de Plata, ademÃ¡s de acceso a todas las skins de armas, la habilidad para fundar tu propia banda dentro del servidor y recibirÃ¡s soporte prioritario en Discord.')">Ver Detalles</button>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 bg-dark-secondary border-warning">
                    <img src="assets/img/flny-vip-diamante.png" class="card-img-top" alt="VIP Diamante" />
                    <div class="card-body d-flex flex-column text-white">
                        <h5 class="card-title fw-bold">ðŸ—½ VIP Diamante</h5>
                        <p class="card-text fs-4 fw-bold text-warning">$20.000 CLP / mes</p>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li>âœ… Todos los beneficios de Diamate.</li>
                            <li>âœ… Acceso a todas las skins de armas.</li>
                            <li>âœ… Posibilidad de crear tu propia banda.</li>
                            <li>âœ… Soporte prioritario en Discord.</li>
                        </ul>
                        <button class="btn btn-outline-warning fw-bold mt-auto" onclick="showVipDetails('vip_diamond', 'VIP Diamante', 20000, 'assets/img/flny-vip-diamante.png', 'El paquete definitivo. ObtÃ©n todos los beneficios de Diamate, ademÃ¡s de acceso a todas las skins de armas, la habilidad para fundar tu propia banda dentro del servidor y recibirÃ¡s soporte prioritario en Discord.')">Ver Detalles</button>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 bg-dark-secondary border-warning">
                    <img src="assets/img/flny-vip-esmeralda.png" class="card-img-top" alt="VIP Esmeralda" />
                    <div class="card-body d-flex flex-column text-white">
                        <h5 class="card-title fw-bold">ðŸ—½ VIP Esmeralda</h5>
                        <p class="card-text fs-4 fw-bold text-warning">$25.000 CLP / mes</p>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li>âœ… Todos los beneficios de Esmeralda.</li>
                            <li>âœ… Acceso a todas las skins de armas.</li>
                            <li>âœ… Posibilidad de crear tu propia banda.</li>
                            <li>âœ… Soporte prioritario en Discord.</li>
                        </ul>
                        <button class="btn btn-outline-warning fw-bold mt-auto" onclick="showVipDetails('vip_esmerald', 'VIP Esmeralda', 25000, 'assets/img/flny-vip-esmeralda.png', 'El paquete definitivo. ObtÃ©n todos los beneficios de Esmeralda, ademÃ¡s de acceso a todas las skins de armas, la habilidad para fundar tu propia banda dentro del servidor y recibirÃ¡s soporte prioritario en Discord.')">Ver Detalles</button>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 bg-dark-secondary border-warning">
                    <img src="assets/img/flny-vip-platino.png" class="card-img-top" alt="VIP Platino" />
                    <div class="card-body d-flex flex-column text-white">
                        <h5 class="card-title fw-bold">ðŸ—½ VIP Platino</h5>
                        <p class="card-text fs-4 fw-bold text-warning">$30.000 CLP / mes</p>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li>âœ… Todos los beneficios de Platino.</li>
                            <li>âœ… Acceso a todas las skins de armas.</li>
                            <li>âœ… Posibilidad de crear tu propia banda.</li>
                            <li>âœ… Soporte prioritario en Discord.</li>
                        </ul>
                        <button class="btn btn-outline-warning fw-bold mt-auto" onclick="showVipDetails('vip_platinum', 'VIP Platino', 30000, 'assets/img/flny-vip-platino.png', 'El paquete definitivo. ObtÃ©n todos los beneficios de Platino, ademÃ¡s de acceso a todas las skins de armas, la habilidad para fundar tu propia banda dentro del servidor y recibirÃ¡s soporte prioritario en Discord.')">Ver Detalles</button>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 bg-dark-secondary border-warning">
                    <img src="assets/img/flny-vip-flny.png" class="card-img-top" alt="VIP FLNY" />
                    <div class="card-body d-flex flex-column text-white">
                        <h5 class="card-title fw-bold">ðŸ—½ VIP FLNY</h5>
                        <p class="card-text fs-4 fw-bold text-warning">$35.000 CLP / mes</p>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li>âœ… Todos los beneficios de FLNY.</li>
                            <li>âœ… Acceso a todas las skins de armas.</li>
                            <li>âœ… Posibilidad de crear tu propia banda.</li>
                            <li>âœ… Soporte prioritario en Discord.</li>
                        </ul>
                        <button class="btn btn-outline-warning fw-bold mt-auto" onclick="showVipDetails('vip_flny', 'VIP FLNY', 30000, 'assets/img/flny-vip-flny.png', 'El paquete definitivo. ObtÃ©n todos los beneficios de FLNY, ademÃ¡s de acceso a todas las skins de armas, la habilidad para fundar tu propia banda dentro del servidor y recibirÃ¡s soporte prioritario en Discord.')">Ver Detalles</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div class="modal fade" id="vipModal" tabindex="-1" aria-labelledby="vipModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content bg-dark-secondary text-white border-secondary">
                <div class="modal-header border-secondary">
                    <h5 class="modal-title text-uppercase" id="vipModalLabel">Detalles del VIP</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-5"><img id="vipModalImage" src="" class="img-fluid rounded" alt="Imagen del VIP" /></div>
                        <div class="col-md-7 d-flex flex-column">
                            <h3 id="vipModalName" class="fw-bold">Nombre del VIP</h3>
                            <p id="vipModalPrice" class="fs-4 text-warning fw-bold">Precio</p>
                            <p id="vipModalDescription" class="text-muted flex-grow-1">DescripciÃ³n detallada de los beneficios.</p>
                            <hr class="border-secondary" />
                            <div class="d-flex align-items-center"><label for="vipModalQuantity" class="form-label me-3 mb-0">Cantidad:</label><input type="number" class="form-control bg-dark text-white border-secondary" id="vipModalQuantity" value="1" min="1" max="10" style="width: 80px" /></div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer border-secondary">
                    <div id="recipient-input-group" class="me-auto d-none">
                        <input type="text" id="recipient-username" class="form-control bg-dark text-white border-secondary" placeholder="Ej: Panchuuu">
                    </div>
                    <button type="button" class="btn btn-secondary" onclick="resetModalButtons()">Cerrar</button>
                    <button type="button" class="btn btn-outline-light" id="gift-button" onclick="toggleGiftMode(true)">Regalar</button>
                    <button type="button" class="btn btn-warning fw-bold" id="vipModalAddToCartButton">AÃ±adir a mi Carro</button>
                </div>
            </div>
        </div>
    </div>

    <div id="carouselExampleDark" class="carousel carousel-dark slide">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active" data-bs-interval="1000">
            <img src="assets/img/test.jpg" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
                <h5>Toyota A-86</h5>
                <p>La nave de la ciudad</p>
            </div>
            </div>
            <div class="carousel-item" data-bs-interval="2000">
            <img src="assets/img/test2.webp" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
                <h5>Nissan Skyline R34</h5>
                <p>Algo exÃ³tico.</p>
            </div>
            </div>
            <div class="carousel-item">
            <img src="assets/img/test3.webp" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
                <h5>Toyota GT-86</h5>
                <p>Algo exclusivo...</p>
            </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    
    <div class="container">
        <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top border-secondary">
            <p class="col-md-4 mb-0 text-muted-dark">Â© 2025 Flaites NY Roleplay</p>
            <a href="index.html" class="col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto text-decoration-none"><img src="assets/img/logo_tienda.png" alt="Logo Flaites NY" width="50" /></a>
            <ul class="nav col-md-4 justify-content-end">
                <li class="nav-item"><a href="https://valparaiso-roleplay-mta.gitbook.io/westcoast-rp-fivem/normativas/donaciones" class="nav-link px-2 footer-link-simple">TÃ©rminos</a></li>
                <li class="nav-item"><a href="https://discord.com/invite/T99hAzmP5A" target="_blank" class="nav-link px-2 footer-link-simple" title="Discord"><i class="fab fa-discord fa-lg"></i></a></li>
                <li class="nav-item"><a href="https://www.instagram.com/" target="_blank" class="nav-link px-2 footer-link-simple" title="Instagram"><i class="fab fa-instagram fa-lg"></i></a></li>
                <li class="nav-item"><a href="https://www.tiktok.com/es/" target="_blank" class="nav-link px-2 footer-link-simple" title="TikTok"><i class="fab fa-tiktok fa-lg"></i></a></li>
            </ul>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/cart.js"></script>
    <script src="assets/js/notifications.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/app.js"></script>
    
    <script>
        const vipModalElement = document.getElementById('vipModal');
        if (vipModalElement) {
            const vipModal = new bootstrap.Modal(vipModalElement);
            const addToCartButton = document.getElementById('vipModalAddToCartButton');
            const giftButton = document.getElementById('gift-button');
            const recipientGroup = document.getElementById('recipient-input-group');
            const recipientInput = document.getElementById('recipient-username');
            function toggleGiftMode(isGifting) {
                if (isGifting) {
                    recipientGroup.classList.remove('d-none');
                    giftButton.classList.add('active');
                    addToCartButton.textContent = 'AÃ±adir Regalo al Carro';
                } else {
                    recipientGroup.classList.add('d-none');
                    giftButton.classList.remove('active');
                    addToCartButton.textContent = 'AÃ±adir a mi Carro';
                    recipientInput.value = '';
                }
            }
            function resetModalButtons() { toggleGiftMode(false); vipModal.hide(); }
            vipModalElement.querySelector('.btn-close').addEventListener('click', resetModalButtons);
            function showVipDetails(id, name, price, image, description) {
                document.getElementById('vipModalImage').src = image;
                document.getElementById('vipModalName').textContent = name;
                document.getElementById('vipModalPrice').textContent = `$${price.toLocaleString('es-CL')}`;
                document.getElementById('vipModalDescription').textContent = description;
                document.getElementById('vipModalQuantity').value = 1;
                addToCartButton.onclick = function() {
                    const quantity = parseInt(document.getElementById('vipModalQuantity').value);
                    const recipient = recipientInput.value.trim() || null;
                    if (recipient && recipient.length < 3) { return alert("El nombre de usuario del destinatario debe tener al menos 3 caracteres."); }
                    addToCart(id, name, price, image, quantity, recipient);
                    resetModalButtons();
                };
                vipModal.show();
            }
        }
    </script>
</body>
</html>